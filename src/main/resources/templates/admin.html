<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin</title>
    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">
    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script>
        function deleteUser(userID) {
            $.ajax({
                type: 'DELETE',
                url: '/user',
                data: {
                    id: userID
                }
            });
        }

        function unlockUser(userID) {
            $.ajax({
                type: 'PATCH',
                url: '/user',
                data: {
                    id: userID
                }
            });
        }
    </script>
</head>
<body>
<div class="container">
    <table class="table table-dark">
        <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">头像</th>
            <th scope="col">用户名</th>
            <th scope="col">手机号</th>
            <th scope="col">Email</th>
            <th scope="col">类型</th>
            <th scope="col">注册时间</th>
            <th scope="col">操作</th>
        </tr>
        </thead>
        <tbody>
        <!--/*@thymesVar id="userList" type="java.util.List<edu.neu.neumall.entity.User>"*/-->
        <tr th:each="user:${userList}">
            <th scope="row" th:text="${user.ID}"></th>
            <td><img width="50" height="50" th:src="${user.avatar}"/></td>
            <td th:text="${user.nickName}"></td>
            <td th:text="${user.phone}"></td>
            <td th:text="${user.email}"></td>
            <td th:text="${user.role}"></td>
            <td th:text="${user.create_time}"></td>
            <td>
                <button th:if="${user.isAccountNonLocked()}" th:onclick="deleteUser([[${user.ID}]])" type="button"
                        class="btn btn-danger">锁定
                </button>
                <button th:if="${!user.isAccountNonLocked()}" th:onclick="unlockUser([[${user.ID}]])" type="button"
                        class="btn btn-success">解锁
                </button>
            </td>
        </tr>
        </tbody>
    </table>
</div>


</body>
</html>